set(SOPHON_COMMON_SRCS
  "${CMAKE_CURRENT_SOURCE_DIR}/logging.cc"
  "${CMAKE_CURRENT_SOURCE_DIR}/utils.cc"
  )

set(SOPHON_COMMON_HDRS
  "${CMAKE_CURRENT_SOURCE_DIR}/aligned_allocator.h"
  "${CMAKE_CURRENT_SOURCE_DIR}/common.h"
  "${CMAKE_CURRENT_SOURCE_DIR}/error.h"
  "${CMAKE_CURRENT_SOURCE_DIR}/logging.h"
  "${CMAKE_CURRENT_SOURCE_DIR}/store.h"
  "${CMAKE_CURRENT_SOURCE_DIR}/string.h"
  "${CMAKE_CURRENT_SOURCE_DIR}/utils.h"
  )

if(${CMAKE_SYSTEM_NAME} STREQUAL "Linux")
  list(APPEND SOPHON_COMMON_SRCS
    "${CMAKE_CURRENT_SOURCE_DIR}/linux.cc"
    )
  list(APPEND SOPHON_COMMON_HDRS
    "${CMAKE_CURRENT_SOURCE_DIR}/linux.h"
    "${CMAKE_CURRENT_SOURCE_DIR}/linux_devices.h"
    )
endif()

if(MSVC)
  list(APPEND SOPHON_COMMON_HDRS
    "${CMAKE_CURRENT_SOURCE_DIR}/win.h"
    )
  list(APPEND SOPHON_COMMON_SRCS
    "${CMAKE_CURRENT_SOURCE_DIR}/win.cc"
    )
endif()

list(APPEND SOPHON_SRCS ${SOPHON_COMMON_SRCS})
list(APPEND SOPHON_HDRS ${SOPHON_COMMON_HDRS})
set(SOPHON_SRCS ${SOPHON_SRCS} PARENT_SCOPE)
set(SOPHON_HDRS ${SOPHON_HDRS} PARENT_SCOPE)
